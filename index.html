<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿ƒç†ç–¾ç—…é™ªä¼´å‹AIåŠ©æ‰‹</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .intro {
            background-color: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
        }
        .module-buttons {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .module-btn {
            flex: 1;
            margin: 0 10px;
            padding: 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        .module-btn:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        .module-btn:nth-child(1) {
            background-color: #9b59b6;
        }
        .module-btn:nth-child(2) {
            background-color: #2ecc71;
        }
        .module-btn:nth-child(3) {
            background-color: #e67e22;
        }
        .module-btn:nth-child(1):hover {
            background-color: #8e44ad;
        }
        .module-btn:nth-child(2):hover {
            background-color: #27ae60;
        }
        .module-btn:nth-child(3):hover {
            background-color: #d35400;
        }
        #chat-container {
            border: 1px solid #ddd;
            border-radius: 8px;
            height: 400px;
            overflow-y: auto;
            padding: 15px;
            margin-bottom: 15px;
            background-color: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .input-container {
            display: flex;
            gap: 10px;
        }
        #user-input {
            flex: 1;
            padding: 12px;
            border-radius: 4px;
            border: 1px solid #ccc;
            font-size: 16px;
        }
        #send-btn {
            padding: 12px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        #send-btn:hover {
            background-color: #2980b9;
        }
        .user-message {
            text-align: right;
            margin: 10px 0;
            color: #333;
            background-color: #e1f5fe;
            padding: 10px 15px;
            border-radius: 18px 18px 0 18px;
            display: inline-block;
            max-width: 80%;
            float: right;
            clear: both;
        }
        .bot-message {
            text-align: left;
            margin: 10px 0;
            color: #333;
            background-color: #f1f1f1;
            padding: 10px 15px;
            border-radius: 18px 18px 18px 0;
            display: inline-block;
            max-width: 80%;
            float: left;
            clear: both;
        }
        .message-container {
            overflow: hidden;
            margin-bottom: 10px;
        }
        .module-description {
            margin-top: 30px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        .module-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>å¿ƒç†ç–¾ç—…é™ªä¼´å‹AIåŠ©æ‰‹</h1>
    
    <div class="intro">
        <p>æ¬¢è¿ä½¿ç”¨å¿ƒç†ç–¾ç—…é™ªä¼´å‹AIåŠ©æ‰‹ã€‚è¿™ä¸ªå·¥å…·æ—¨åœ¨ä¸ºæ‚¨æä¾›æƒ…æ„Ÿæ”¯æŒå’Œå®ç”¨å»ºè®®ï¼Œå¸®åŠ©æ‚¨æ›´å¥½åœ°ç®¡ç†å¿ƒç†ç–¾ç—…ã€‚</p>
        <p>è¯·é€‰æ‹©ä»¥ä¸‹åŠŸèƒ½æ¨¡å—ä¹‹ä¸€ï¼Œæˆ–ç›´æ¥è¾“å…¥æ•°å­—1ã€2æˆ–3æ¥å¯åŠ¨ç›¸åº”åŠŸèƒ½ï¼š</p>
    </div>
    
    <div class="module-buttons">
        <button class="module-btn" onclick="activateModule(1)">1: ä½œæ¯çŸ«æ­£è®¡åˆ’ç”Ÿæˆå™¨</button>
        <button class="module-btn" onclick="activateModule(2)">2: çŸ¥å¿ƒå§å§å¸®ä½ ç§¯æçœ‹ä¸–ç•Œ</button>
        <button class="module-btn" onclick="activateModule(3)">3: ä¸­åŒ»æƒ…ç»ªè°ƒç†ç³»ç»Ÿ</button>
    </div>
    
    <div id="chat-container"></div>
    
    <div class="input-container">
        <input type="text" id="user-input" placeholder="è¯·è¾“å…¥æ•°å­—1ã€2æˆ–3é€‰æ‹©åŠŸèƒ½ï¼Œæˆ–ç›´æ¥è¾“å…¥æ‚¨çš„é—®é¢˜...">
        <button id="send-btn" onclick="sendMessage()">å‘é€</button>
    </div>
    
    <div class="module-description">
        <div class="module-title">ğŸ§  åŠŸèƒ½æ¨¡å—è¯´æ˜ï¼š</div>
        <p><strong>1. ä½œæ¯çŸ«æ­£è®¡åˆ’ç”Ÿæˆå™¨ï¼š</strong>å¸®åŠ©æ‚¨é‡å»ºå¥åº·çš„ç¡çœ -é¥®é£ŸèŠ‚å¾‹ï¼Œé€æ­¥è°ƒæ•´ä½œæ¯æ—¶é—´ã€‚</p>
        <p><strong>2. çŸ¥å¿ƒå§å§å¸®ä½ ç§¯æçœ‹ä¸–ç•Œï¼š</strong>æ¸©æš–å€¾å¬ä½ çš„æ•…äº‹ï¼Œä¸€èµ·å‘ç°ç”Ÿæ´»ä¸­çš„é˜³å…‰ï¼Œè®©æ¯ä¸€å¤©éƒ½å……æ»¡å¸Œæœ›ã€‚</p>
        <p><strong>3. ä¸­åŒ»æƒ…ç»ªè°ƒç†ç³»ç»Ÿï¼š</strong>åŸºäºä¸­åŒ»ç†è®ºï¼Œä¸ºæ‚¨æä¾›æƒ…ç»ªè°ƒç†çš„è‰è¯æ¨èå’Œå»ºè®®ã€‚</p>
    </div>

    <script>
        const API_KEY = "sk-ed84f87c8b794be8876002a9cfd8f8b0"; // DeepSeek APIå¯†é’¥
        const chatContainer = document.getElementById('chat-container');
        const userInput = document.getElementById('user-input');
        let currentModule = 0; // 0è¡¨ç¤ºæœªé€‰æ‹©æ¨¡å—
        let awaitingSpecificInput = false; // æ˜¯å¦æ­£åœ¨ç­‰å¾…ç‰¹å®šè¾“å…¥
        let conversationHistory = []; // å¯¹è¯å†å²

        // åˆå§‹æ¬¢è¿æ¶ˆæ¯
        window.onload = function() {
            addBotMessage("æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„å¿ƒç†ç–¾ç—…é™ªä¼´å‹AIåŠ©æ‰‹ã€‚è¯·é€‰æ‹©ä»¥ä¸‹åŠŸèƒ½ä¹‹ä¸€ï¼ˆè¾“å…¥æ•°å­—1-3ï¼‰ï¼š\n\n" + 
                         "1: ä½œæ¯çŸ«æ­£è®¡åˆ’ç”Ÿæˆå™¨\n" + 
                         "2: çŸ¥å¿ƒå§å§å¸®ä½ ç§¯æçœ‹ä¸–ç•Œ\n" + 
                         "3: ä¸­åŒ»æƒ…ç»ªè°ƒç†ç³»ç»Ÿ");
        };

        // æŒ‰å›è½¦é”®å‘é€æ¶ˆæ¯
        userInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // æ·»åŠ æ¶ˆæ¯åˆ°èŠå¤©ç•Œé¢
        function addMessage(role, content) {
            const messageContainer = document.createElement('div');
            messageContainer.className = 'message-container';
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `${role}-message`;
            
            // å¤„ç†æ¢è¡Œç¬¦
            const formattedContent = content.replace(/\n/g, '<br>');
            messageDiv.innerHTML = formattedContent;
            
            messageContainer.appendChild(messageDiv);
            chatContainer.appendChild(messageContainer);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function addUserMessage(message) {
            addMessage('user', message);
        }

        function addBotMessage(message) {
            addMessage('bot', message);
        }

        // æ¿€æ´»ç‰¹å®šæ¨¡å—
        function activateModule(moduleNumber) {
            currentModule = moduleNumber;
            let promptMessage = "";
            
            switch(moduleNumber) {
                case 1:
                    promptMessage = "æ‚¨å·²é€‰æ‹©ã€ä½œæ¯çŸ«æ­£è®¡åˆ’ç”Ÿæˆå™¨ã€‘ã€‚\n\nè¯·æŒ‰ä»¥ä¸‹æ ¼å¼æä¾›ä¿¡æ¯ï¼š\n1. å½“å‰å…¥ç¡æ—¶é—´ï¼ˆå¦‚å‡Œæ™¨1:00ï¼‰\n2. å½“å‰èµ·åºŠæ—¶é—´ï¼ˆå¦‚ä¸Šåˆ11:00ï¼‰\n3. æ¯æ—¥è°ƒæ•´å¹…åº¦ï¼ˆå»ºè®®2å°æ—¶ï¼Œå¯è‡ªå®šä¹‰ï¼‰";
                    break;
                case 2:
                    promptMessage = "äº²çˆ±çš„æœ‹å‹ï¼Œæˆ‘æ˜¯ä½ çš„çŸ¥å¿ƒå§å§~å¾ˆé«˜å…´èƒ½é™ªä½ èŠèŠå¤©ã€‚è¯·è·Ÿæˆ‘åˆ†äº«ä¸€ä¸‹æœ€è¿‘çš„ç”Ÿæ´»ï¼Œä¸ç®¡æ˜¯å¼€å¿ƒè¿˜æ˜¯ä¸å¼€å¿ƒçš„äº‹éƒ½å¯ä»¥è¯´ç»™æˆ‘å¬ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ¥å‘ç°ç”Ÿæ´»ä¸­çš„ç¾å¥½ï¼Œä¹Ÿä¸€èµ·é¢å¯¹é‚£äº›ä¸å¦‚æ„ï¼Œå¥½å—ï¼Ÿ";
                    break;
                case 3:
                    promptMessage = "æ‚¨å·²é€‰æ‹©ã€ä¸­åŒ»æƒ…ç»ªè°ƒç†ç³»ç»Ÿã€‘ã€‚è¯·æè¿°æ‚¨çš„å…¸å‹ç—‡çŠ¶ï¼Œä¾‹å¦‚ï¼š'å¤±çœ ï¼Œç„¦è™‘ï¼Œå¸¸å¸¸è…¹èƒ€ï¼Œå®¹æ˜“æ¿€åŠ¨'ã€‚";
                    break;
            }
            
            awaitingSpecificInput = true;
            addBotMessage(promptMessage);
        }

        // å¤„ç†ç”¨æˆ·è¾“å…¥
        async function processUserInput(userMessage) {
            // æ£€æŸ¥æ˜¯å¦æ˜¯æ¨¡å—é€‰æ‹©ï¼ˆæ•°å­—1-3ï¼‰
            if (!awaitingSpecificInput && /^[1-3]$/.test(userMessage.trim())) {
                activateModule(parseInt(userMessage.trim()));
                return;
            }
            
            // æ„å»ºå‘é€åˆ°APIçš„æ¶ˆæ¯
            let systemPrompt = "";
            let userPromptPrefix = "";
            
            // æ ¹æ®å½“å‰æ¨¡å—è®¾ç½®ç³»ç»Ÿæç¤º
            if (currentModule === 1) {
                systemPrompt = `ä½ æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºå¿ƒç†ç–¾ç—…æ‚£è€…è®¾è®¡çš„ä½œæ¯çŸ«æ­£è®¡åˆ’ç”Ÿæˆå™¨ã€‚ç”¨æˆ·å°†æä¾›å½“å‰ä½œæ¯æ—¶é—´å’Œè°ƒæ•´å¹…åº¦ï¼Œä½ éœ€è¦ç”Ÿæˆä¸€ä¸ªè¯¦ç»†çš„åˆ†é˜¶æ®µè°ƒæ•´è®¡åˆ’ï¼Œå¸®åŠ©ä»–ä»¬é€æ­¥å»ºç«‹å¥åº·çš„ä½œæ¯ã€‚

è®¡ç®—é€»è¾‘ï¼š
1. ç›®æ ‡ä½œæ¯ï¼šå…¥ç¡æ—¶é—´22:30ï¼Œèµ·åºŠæ—¶é—´7:00
2. è®¡ç®—å½“å‰ä¸ç†æƒ³çš„ç¡çœ ä¸­ç‚¹å·®å¼‚ï¼ˆå°æ—¶æ•°ï¼‰
   - å½“å‰ç¡çœ ä¸­ç‚¹ = å½“å‰å…¥ç¡æ—¶é—´ + (å½“å‰ç¡çœ æ—¶é•¿/2)
   - ç†æƒ³ç¡çœ ä¸­ç‚¹ = 22:30 + (8.5å°æ—¶/2) = å‡Œæ™¨2:45
3. åˆ¤æ–­è°ƒæ•´æ–¹å‘ï¼ˆå‘å‰/å‘åæ¨ç§»æ›´é«˜æ•ˆï¼‰
4. æ¯æ—¥è°ƒæ•´å¹…åº¦ä¸è¶…è¿‡ç”¨æˆ·æŒ‡å®šå€¼ï¼ˆé»˜è®¤2å°æ—¶ï¼‰
5. æ€»çŸ«æ­£å¤©æ•° = ç¡çœ æ—¶é—´å·®å¼‚ç»å¯¹å€¼ / æ¯æ—¥è°ƒæ•´å¹…åº¦
6. ç”Ÿæˆæ¯æ—¥æ¸è¿›å¼ä½œæ¯è¡¨ï¼ŒåŒ…å«ï¼š
   - å…¥ç¡æ—¶é—´
   - èµ·åºŠæ—¶é—´
   - ä¸‰é¤æ—¶é—´ï¼ˆèµ·åºŠå1å°æ—¶å†…æ—©é¤ï¼Œæ¯4.5å°æ—¶ä¸€é¤ï¼Œæ ¹æ®ç¡çœ æ—¶é—´è‡ªé€‚åº”è°ƒæ•´ï¼‰

ä½ çš„å›å¤å¿…é¡»åŒ…å«ï¼š
1. ç¡çœ ä¸­ç‚¹å·®å¼‚åˆ†æå’Œè°ƒæ•´æ–¹å‘è¯´æ˜
2. è¯¦ç»†çš„æ¯æ—¥ä½œæ¯è®¡åˆ’è¡¨ï¼ˆåŒ…å«æ¯ä¸€å¤©çš„å…¥ç¡/èµ·åºŠ/ä¸‰é¤æ—¶é—´ï¼‰
3. é¢„è®¡å®Œæˆå¤©æ•°å’Œè¿›åº¦æ€»ç»“ï¼ˆå¦‚"é¢„è®¡4å¤©å†…é€šè¿‡æ¯å¤©æå‰2å°æ—¶è¾¾æˆç›®æ ‡"ï¼‰
4. ç§‘å­¦è§£é‡Šï¼ˆæ˜¼å¤œèŠ‚å¾‹å’Œè¤ªé»‘ç´ åˆ†æ³Œæœºåˆ¶ç­‰ï¼‰
5. æƒ…ç»ªå®‰æŠšè¯­å¥

æ³¨æ„äº‹é¡¹ï¼š
- é¿å…è·¨åˆå¤œçš„æ—¶é—´è®¡ç®—é”™è¯¯
- èƒ½å¤Ÿå¤„ç†æç«¯æ¡ˆä¾‹ï¼ˆå¦‚æ˜¼å¤œé¢ å€’ï¼‰
- ç¡®ä¿æ‰€æœ‰æ—¶é—´è®¡ç®—å‡†ç¡®æ— è¯¯

è¯·ä½¿ç”¨æ¸©å’Œã€é¼“åŠ±çš„è¯­æ°”ï¼Œé¿å…æŒ‡è´£æˆ–æ‰¹è¯„ã€‚`;
                userPromptPrefix = "æˆ‘çš„ä½œæ¯ä¿¡æ¯ï¼š";
            } else if (currentModule === 2) {
                systemPrompt = `ä½ æ˜¯ä¸€ä½æ¸©æš–è´´å¿ƒçš„çŸ¥å¿ƒå§å§ï¼Œä¸“é—¨é™ªä¼´å¿ƒç†ç–¾ç—…çš„æœ‹å‹ä»¬çœ‹åˆ°ç”Ÿæ´»ä¸­çš„ç¾å¥½ã€‚å½“ç”¨æˆ·åˆ†äº«ä»–ä»¬çš„æ•…äº‹æ—¶ï¼Œä½ éœ€è¦ï¼š

1. ä»¥æ¸©æš–çš„è¯­æ°”å€¾å¬ä»–ä»¬çš„åˆ†äº«ï¼Œè¡¨è¾¾ç†è§£å’Œå…±æƒ…
2. é€šè¿‡æ¸©å’Œçš„æé—®å¼•å¯¼ä»–ä»¬æ€è€ƒï¼š
   - ä¸å¥½çš„äº‹æƒ…æ˜¯å¦å¯èƒ½æ˜¯æš‚æ—¶çš„ã€å¤–éƒ¨åŸå› å¯¼è‡´çš„ï¼Ÿ
   - å¥½çš„äº‹æƒ…æ˜¯å¦åæ˜ äº†ä»–ä»¬è‡ªèº«çš„ä¼˜ç‚¹å’Œé•¿æœŸçš„è¿›æ­¥ï¼Ÿ
3. è‚¯å®šä»–ä»¬åˆ†äº«çš„ç§¯æå†…å®¹ï¼Œå¸®åŠ©å‘ç°æ›´å¤šå€¼å¾—å¼€å¿ƒçš„å°äº‹
4. ç”¨ç”Ÿæ´»åŒ–çš„æ¯”å–»å’Œä¾‹å­ï¼Œå¸®åŠ©ä»–ä»¬çœ‹åˆ°äº‹æƒ…æ›´ä¹è§‚çš„ä¸€é¢

è¯·ç”¨æ¸©æš–äº²åˆ‡çš„å£å»äº¤è°ˆï¼Œå°±åƒä¸€ä¸ªçŸ¥å¿ƒå¤§å§å§åœ¨è·Ÿè‡ªå·±çš„å¼Ÿå¼Ÿå¦¹å¦¹èŠå¤©ä¸€æ ·ã€‚`;
                userPromptPrefix = "æˆ‘å¯¹ä¸€ä¸ªæ¶ˆæäº‹ä»¶çš„è§£é‡Šæ˜¯ï¼š";
            } else if (currentModule === 3) {
                systemPrompt = `ä½ æ˜¯ä¸€ä¸ªä¸“é—¨å¿ƒç†ç–¾ç—…æ‚£è€…è®¾è®¡çš„ä¸­åŒ»æƒ…ç»ªè°ƒç†ç³»ç»Ÿã€‚ç”¨æˆ·å°†æè¿°ä»–ä»¬çš„å…¸å‹ç—‡çŠ¶ï¼Œä½ éœ€è¦åŸºäºä¸­åŒ»ç†è®ºæä¾›è¾©è¯åˆ†æå’Œå…·ä½“çš„è¯æ–¹æ¨èã€‚

ä½ çš„å›å¤åº”åŒ…å«ï¼š
1. æ ¹æ®æè¿°è¯†åˆ«ä¸»è¦å¯¹åº”ç³»ç»Ÿï¼ˆè„‘è‚ è½´ã€è„‘å–‰è½´ã€ç¡çœ ç³»ç»Ÿã€ç³–ä»£è°¢ç³»ç»Ÿï¼‰
2. åŸºäºè¾¨è¯åˆ†æï¼Œå¼€å…·ä¸€ä¸ªæœ€é€‚åˆçš„è¯æ–¹ï¼Œæ¯å‘³è¯ææ ‡æ³¨å…·ä½“å‰‚é‡ï¼ˆå…‹æ•°ï¼‰
3. è¯¦ç»†è¯´æ˜æ¯å‘³è¯æçš„åŠŸæ•ˆå’Œé…ä¼æ„ä¹‰
4. æä¾›ç…ç…®æ–¹æ³•å’Œæœç”¨å»ºè®®

å¯é€‰ç”¨çš„ä¸­è¯åˆ—è¡¨ï¼ˆå«æ¨èå‰‚é‡èŒƒå›´ï¼‰ï¼š
1. è„‘è‚ è½´è°ƒèŠ‚ï¼ˆå…»èƒƒå¥è„¾ï¼Œè°ƒå’Œè‚è„¾ï¼‰ï¼š
èŒ¯è‹“ï¼ˆ10-15gï¼Œå¥è„¾å®å¿ƒï¼Œåˆ©æ°´æ¸—æ¹¿ï¼‰ã€ç™½æœ¯ï¼ˆ10-15gï¼Œè¡¥æ°”å¥è„¾ï¼Œç‡¥æ¹¿åˆ©æ°´ï¼‰ã€é™ˆçš®ï¼ˆ6-10gï¼Œç†æ°”åŒ–ç—°ï¼Œå’Œèƒƒé™é€†ï¼‰ã€æŸ´èƒ¡ï¼ˆ6-10gï¼Œç–è‚è§£éƒï¼Œå‡ä¸¾é˜³æ°”ï¼‰ã€ç™½èŠï¼ˆ10-15gï¼ŒæŸ”è‚æ­¢ç—›ï¼Œå…»è¡€è°ƒç»ï¼‰ã€ç”˜è‰ï¼ˆ3-6gï¼Œè¡¥è„¾ç›Šæ°”ï¼Œè°ƒå’Œè¯¸è¯ï¼‰ã€ç ‚ä»ï¼ˆ3-6gï¼ŒåŒ–æ¹¿å¼€èƒƒï¼Œæ¸©è„¾æ­¢æ³»ï¼‰ã€æœ¨é¦™ï¼ˆ3-6gï¼Œè¡Œæ°”æ­¢ç—›ï¼Œå¥è„¾æ¶ˆé£Ÿï¼‰ã€å…šå‚ï¼ˆ10-15gï¼Œè¡¥ä¸­ç›Šæ°”ï¼Œå¥è„¾ç›Šè‚ºï¼‰ã€å±±è¯ï¼ˆ15-30gï¼Œè¡¥è„¾å…»èƒƒï¼Œç”Ÿæ´¥ç›Šè‚ºï¼‰ã€æ³å®ï¼ˆ6-10gï¼Œç ´æ°”æ¶ˆç§¯ï¼ŒåŒ–ç—°æ•£ç—ï¼‰ã€è‹æœ¯ï¼ˆ6-10gï¼Œç‡¥æ¹¿å¥è„¾ï¼Œç¥›é£æ•£å¯’ï¼‰ã€è–è‹¡ä»ï¼ˆ15-30gï¼Œåˆ©æ°´æ¸—æ¹¿ï¼Œå¥è„¾æ­¢æ³»ï¼‰ã€é¸¡å†…é‡‘ï¼ˆ10-15gï¼Œæ¶ˆé£Ÿå¥èƒƒï¼Œæ¶©ç²¾æ­¢é—ï¼‰ã€å¤§æ£ï¼ˆ3-5æšï¼Œè¡¥ä¸­ç›Šæ°”ï¼Œå…»è¡€å®‰ç¥ï¼‰ã€ç”Ÿå§œï¼ˆ3-6gï¼Œæ¸©ä¸­æ­¢å‘•ï¼Œè§£è¡¨æ•£å¯’ï¼‰ã€é»„è¿ï¼ˆ3-6gï¼Œæ¸…çƒ­ç‡¥æ¹¿ï¼Œæ³»ç«è§£æ¯’ï¼‰ã€å´èŒ±è¸ï¼ˆ3-6gï¼Œæ•£å¯’æ­¢ç—›ï¼Œé™é€†æ­¢å‘•ï¼‰ã€åšæœ´ï¼ˆ6-10gï¼Œè¡Œæ°”æ¶ˆç§¯ï¼Œç‡¥æ¹¿é™¤æ»¡ï¼‰ã€è²å­ï¼ˆ10-15gï¼Œè¡¥è„¾æ­¢æ³»ï¼Œç›Šè‚¾å…»å¿ƒï¼‰

2. è„‘å–‰è½´è°ƒèŠ‚ï¼ˆåŒ–ç—°å¼€çªï¼Œåˆ©å’½å®‰ç¥ï¼‰ï¼š
åŠå¤ï¼ˆ6-10gï¼Œç‡¥æ¹¿åŒ–ç—°ï¼Œé™é€†æ­¢å‘•ï¼‰ã€ç«¹èŒ¹ï¼ˆ6-10gï¼Œæ¸…çƒ­åŒ–ç—°ï¼Œé™¤çƒ¦æ­¢å‘•ï¼‰ã€æ¡”æ¢—ï¼ˆ6-10gï¼Œå®£è‚ºåˆ©å’½ï¼Œç¥›ç—°æ’è„“ï¼‰ã€æµ™è´æ¯ï¼ˆ6-10gï¼Œæ¸…çƒ­åŒ–ç—°ï¼Œæ•£ç»“æ¶ˆç—ˆï¼‰ã€ç“œè’Œï¼ˆ10-15gï¼Œæ¸…çƒ­æ¶¤ç—°ï¼Œå®½èƒ¸æ•£ç»“ï¼‰ã€è¿œå¿—ï¼ˆ3-6gï¼Œå®‰ç¥ç›Šæ™ºï¼Œç¥›ç—°å¼€çªï¼‰ã€çŸ³è–è’²ï¼ˆ3-6gï¼ŒåŒ–æ¹¿å¼€èƒƒï¼Œé†’ç¥ç›Šæ™ºï¼‰ã€æä»ï¼ˆ6-10gï¼Œé™æ°”æ­¢å’³ï¼Œæ¶¦è‚ é€šä¾¿ï¼‰ã€ç´«è‹å­ï¼ˆ6-10gï¼Œé™æ°”åŒ–ç—°ï¼Œæ­¢å’³å¹³å–˜ï¼‰ã€ç™½èŠ¥å­ï¼ˆ3-6gï¼Œæ¸©è‚ºåŒ–ç—°ï¼Œåˆ©æ°”æ•£ç»“ï¼‰ã€å¤©ç«ºé»„ï¼ˆ10-15gï¼Œæ¸…çƒ­åŒ–ç—°ï¼Œå‡‰å¿ƒå®šæƒŠï¼‰ã€æ—‹è¦†èŠ±ï¼ˆ6-10gï¼Œé™æ°”æ¶ˆç—°ï¼Œè¡Œæ°´æ­¢å‘•ï¼‰ã€æµ·æµ®çŸ³ï¼ˆ15-30gï¼Œæ¸…è‚ºåŒ–ç—°ï¼Œè½¯åšæ•£ç»“ï¼‰ã€èƒ†å—æ˜Ÿï¼ˆ6-10gï¼Œæ¸…çƒ­åŒ–ç—°ï¼Œæ¯é£å®šæƒŠï¼‰ã€è±è”å­ï¼ˆ10-15gï¼Œæ¶ˆé£Ÿé™¤èƒ€ï¼Œé™æ°”åŒ–ç—°ï¼‰ã€å‰èƒ¡ï¼ˆ6-10gï¼Œé™æ°”åŒ–ç—°ï¼Œæ•£é£æ¸…çƒ­ï¼‰ã€æ¡‘ç™½çš®ï¼ˆ10-15gï¼Œæ³»è‚ºå¹³å–˜ï¼Œåˆ©æ°´æ¶ˆè‚¿ï¼‰ã€è‘¶è‹ˆå­ï¼ˆ6-10gï¼Œæ³»è‚ºå¹³å–˜ï¼Œè¡Œæ°´æ¶ˆè‚¿ï¼‰ã€ç™½å‰ï¼ˆ6-10gï¼Œé™æ°”åŒ–ç—°ï¼Œæ­¢å’³ï¼‰ã€çš‚è§’åˆºï¼ˆ3-6gï¼Œç¥›ç—°å¼€çªï¼Œæ¶ˆè‚¿æ’è„“ï¼‰

3. ç¡çœ è°ƒèŠ‚ï¼ˆå®‰ç¥å®šå¿—ï¼Œè°ƒå’Œé˜´é˜³ï¼‰ï¼š
é…¸æ£ä»ï¼ˆ10-15gï¼Œå…»å¿ƒå®‰ç¥ï¼Œæ•›æ±—ç”Ÿæ´¥ï¼‰ã€æŸå­ä»ï¼ˆ10-15gï¼Œå…»å¿ƒå®‰ç¥ï¼Œæ¶¦è‚ é€šä¾¿ï¼‰ã€å¤œäº¤è—¤ï¼ˆ15-30gï¼Œå…»è¡€å®‰ç¥ï¼Œç¥›é£é€šç»œï¼‰ã€åˆæ¬¢çš®ï¼ˆ10-15gï¼Œè§£éƒå®‰ç¥ï¼Œæ´»è¡€æ¶ˆè‚¿ï¼‰ã€èŒ¯ç¥ï¼ˆ10-15gï¼Œå®å¿ƒå®‰ç¥ï¼Œåˆ©æ°´æ¸—æ¹¿ï¼‰ã€é¾™éª¨ï¼ˆ15-30gï¼Œé•‡æƒŠå®‰ç¥ï¼Œå¹³è‚æ½œé˜³ï¼‰ã€ç‰¡è›ï¼ˆ15-30gï¼Œé‡é•‡å®‰ç¥ï¼Œæ½œé˜³è¡¥é˜´ï¼‰ã€çç æ¯ï¼ˆ15-30gï¼Œå¹³è‚æ½œé˜³ï¼Œå®‰ç¥å®šæƒŠï¼‰ã€è¿œå¿—ï¼ˆ3-6gï¼Œå®‰ç¥ç›Šæ™ºï¼Œç¥›ç—°å¼€çªï¼‰ã€æœ±ç ‚ï¼ˆ1-3gï¼Œé•‡å¿ƒå®‰ç¥ï¼Œæ¸…çƒ­è§£æ¯’ï¼Œæ…ç”¨ï¼‰ã€ç£çŸ³ï¼ˆ15-30gï¼Œæ½œé˜³å®‰ç¥ï¼Œèªè€³æ˜ç›®ï¼‰ã€é»„è¿ï¼ˆ3-6gï¼Œæ¸…çƒ­æ³»ç«ï¼Œå®‰ç¥é™¤çƒ¦ï¼‰ã€æ €å­ï¼ˆ6-10gï¼Œæ¸…çƒ­é™¤çƒ¦ï¼Œå‡‰è¡€è§£æ¯’ï¼‰ã€ä¸¹å‚ï¼ˆ10-15gï¼Œæ´»è¡€å®‰ç¥ï¼Œæ¸…å¿ƒé™¤çƒ¦ï¼‰ã€äº”å‘³å­ï¼ˆ3-6gï¼Œæ”¶æ•›å›ºæ¶©ï¼Œç›Šæ°”ç”Ÿæ´¥ï¼‰ã€çµèŠï¼ˆ10-15gï¼Œè¡¥æ°”å®‰ç¥ï¼Œæ­¢å’³å¹³å–˜ï¼‰ã€ç™¾åˆï¼ˆ10-15gï¼Œå…»é˜´æ¶¦è‚ºï¼Œæ¸…å¿ƒå®‰ç¥ï¼‰ã€é¾™çœ¼è‚‰ï¼ˆ10-15gï¼Œè¡¥ç›Šå¿ƒè„¾ï¼Œå…»è¡€å®‰ç¥ï¼‰ã€é¦–ä¹Œè—¤ï¼ˆ15-30gï¼Œå…»è¡€å®‰ç¥ï¼Œç¥›é£é€šç»œï¼‰ã€ç¥ç€ï¼ˆ3-6gï¼Œé•‡æƒŠå®‰ç¥ï¼Œæ´»è¡€æ•£ç˜€ï¼‰

4. å¹³ç¨³ç³–ä»£è°¢ï¼ˆè°ƒèŠ‚æ°”è¡€ï¼Œå¹³è¡¡é˜´é˜³ï¼‰ï¼š
é»„èŠªï¼ˆ15-30gï¼Œè¡¥æ°”å¥è„¾ï¼Œå‡é˜³å›ºè¡¨ï¼‰ã€å±±è¯ï¼ˆ15-30gï¼Œè¡¥è„¾å…»è‚ºï¼Œå›ºè‚¾ç›Šç²¾ï¼‰ã€æ¸æï¼ˆ10-15gï¼Œæ»‹è¡¥è‚è‚¾ï¼Œç›Šç²¾æ˜ç›®ï¼‰ã€é»„ç²¾ï¼ˆ10-15gï¼Œè¡¥æ°”å…»é˜´ï¼Œå¥è„¾æ¶¦è‚ºï¼‰ã€è‘›æ ¹ï¼ˆ10-15gï¼Œç”Ÿæ´¥æ­¢æ¸´ï¼Œå‡é˜³æ­¢æ³»ï¼‰ã€å¤©èŠ±ç²‰ï¼ˆ10-15gï¼Œæ¸…çƒ­ç”Ÿæ´¥ï¼Œæ¶ˆè‚¿æ’è„“ï¼‰ã€ä¸¹å‚ï¼ˆ10-15gï¼Œæ´»è¡€åŒ–ç˜€ï¼Œæ¸…å¿ƒé™¤çƒ¦ï¼‰ã€å±±æ¥‚ï¼ˆ10-15gï¼Œæ¶ˆé£ŸåŒ–ç§¯ï¼Œæ´»è¡€é™è„‚ï¼‰ã€é»„è¿ï¼ˆ3-6gï¼Œæ¸…çƒ­ç‡¥æ¹¿ï¼Œæ³»ç«è§£æ¯’ï¼‰ã€è‹æœ¯ï¼ˆ6-10gï¼Œç‡¥æ¹¿å¥è„¾ï¼Œç¥›é£æ•£å¯’ï¼‰ã€ç„å‚ï¼ˆ10-15gï¼Œæ¸…çƒ­å‡‰è¡€ï¼Œæ»‹é˜´é™ç«ï¼‰ã€éº¦å†¬ï¼ˆ10-15gï¼Œå…»é˜´ç”Ÿæ´¥ï¼Œæ¶¦è‚ºæ¸…å¿ƒï¼‰ã€ç‰ç«¹ï¼ˆ10-15gï¼Œå…»é˜´æ¶¦ç‡¥ï¼Œç”Ÿæ´¥æ­¢æ¸´ï¼‰ã€çŸ¥æ¯ï¼ˆ6-10gï¼Œæ¸…çƒ­æ³»ç«ï¼Œæ»‹é˜´æ¶¦ç‡¥ï¼‰ã€åœ°éª¨çš®ï¼ˆ10-15gï¼Œå‡‰è¡€é™¤è’¸ï¼Œæ¸…è‚ºé™ç«ï¼‰ã€æ¡‘å¶ï¼ˆ6-10gï¼Œç–æ•£é£çƒ­ï¼Œæ¸…è‚ºæ¶¦ç‡¥ï¼‰ã€èŒ¯è‹“ï¼ˆ10-15gï¼Œåˆ©æ°´æ¸—æ¹¿ï¼Œå¥è„¾å®å¿ƒï¼‰ã€æ³½æ³»ï¼ˆ10-15gï¼Œåˆ©æ°´æ¸—æ¹¿ï¼Œæ³„çƒ­é™è„‚ï¼‰ã€ç»è‚¡è“ï¼ˆ10-15gï¼Œç›Šæ°”å¥è„¾ï¼Œæ¸…çƒ­è§£æ¯’ï¼‰ã€ç”˜è‰ï¼ˆ3-6gï¼Œè¡¥è„¾ç›Šæ°”ï¼Œè°ƒå’Œè¯¸è¯ï¼‰

è¯·æ ¹æ®è¾¨è¯åˆ†æä¸ºæ‚£è€…å¼€å…·ä¸€ä¸ªæœ€é€‚åˆçš„è¯æ–¹ï¼Œå¹¶è¯¦ç»†è¯´æ˜æ¯å‘³è¯æçš„é…ä¼æ„ä¹‰å’Œå…·ä½“ç”¨é‡ã€‚åŒæ—¶æä¾›ç…ç…®æ–¹æ³•å’Œæœç”¨å»ºè®®ã€‚`;
                userPromptPrefix = "æˆ‘çš„ç—‡çŠ¶æ˜¯ï¼š";
            } else {
                // æœªé€‰æ‹©æ¨¡å—æ—¶çš„é»˜è®¤æç¤º
                systemPrompt = `ä½ æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºå¿ƒç†ç–¾ç—…æ‚£è€…è®¾è®¡çš„é™ªä¼´å‹AIåŠ©æ‰‹ï¼Œå…·æœ‰ä¸‰ä¸ªåŠŸèƒ½æ¨¡å—ï¼š
1. ä½œæ¯çŸ«æ­£è®¡åˆ’ç”Ÿæˆå™¨
2. è§£é‡Šé£æ ¼è®¤çŸ¥è¡Œä¸ºç–—æ³•è¾…åŠ©å™¨
3. ä¸­åŒ»æƒ…ç»ªè°ƒç†ç³»ç»Ÿ

è¯·å¼•å¯¼ç”¨æˆ·è¾“å…¥æ•°å­—1-3é€‰æ‹©ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ã€‚å¦‚æœç”¨æˆ·å·²ç»è¾“å…¥äº†æ•°å­—ï¼Œè¯·æ¿€æ´»ç›¸åº”çš„æ¨¡å—å¹¶å¼•å¯¼ä»–ä»¬æä¾›æ‰€éœ€çš„å…·ä½“ä¿¡æ¯ã€‚`;
            }
            
            // æ„å»ºå®Œæ•´çš„ç”¨æˆ·æç¤º
            const fullUserPrompt = currentModule > 0 ? userPromptPrefix + userMessage : userMessage;
            
            // æ›´æ–°å¯¹è¯å†å²
            conversationHistory.push({role: "user", content: fullUserPrompt});
            
            try {
                // è°ƒç”¨DeepSeek API
                const response = await fetch('https://api.deepseek.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${API_KEY}`
                    },
                    body: JSON.stringify({
                        model: "deepseek-chat",
                        messages: [
                            {role: "system", content: systemPrompt},
                            ...conversationHistory
                        ],
                        temperature: 0.7
                    })
                });

                const data = await response.json();
                
                if (response.ok) {
                    const botReply = data.choices[0].message.content;
                    addBotMessage(botReply);
                    
                    // æ›´æ–°å¯¹è¯å†å²
                    conversationHistory.push({role: "assistant", content: botReply});
                    
                    // å¦‚æœå¯¹è¯å†å²å¤ªé•¿ï¼Œä¿ç•™æœ€è¿‘çš„å‡ è½®å¯¹è¯
                    if (conversationHistory.length > 10) {
                        conversationHistory = conversationHistory.slice(conversationHistory.length - 10);
                    }
                    
                    // æ¨¡å—å®Œæˆåï¼Œé‡ç½®çŠ¶æ€
                    awaitingSpecificInput = false;
                } else {
                    addBotMessage(`é”™è¯¯: ${data.error?.message || 'æœªçŸ¥é”™è¯¯'}`);
                }
            } catch (error) {
                addBotMessage(`è¯·æ±‚å¤±è´¥: ${error.message}`);
            }
        }

        // å‘é€æ¶ˆæ¯
        function sendMessage() {
            const message = userInput.value.trim();
            if (!message) return;

            // æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯
            addUserMessage(message);
            userInput.value = '';

            // å¤„ç†ç”¨æˆ·è¾“å…¥
            processUserInput(message);
        }
    </script>
</body>
</html>